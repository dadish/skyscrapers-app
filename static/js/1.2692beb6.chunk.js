webpackJsonp([1],{42:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CHANGE_FILTER_TXT="skyscrapers/Cities/CHANGE_FILTER_TXT",t.AJAX_FETCH_START="skyscrapers/Cities/AJAX_FETCH_START",t.AJAX_FETCH_END="skyscrapers/Cities/AJAX_FETCH_END",t.AJAX_FETCH_FAIL="skyscrapers/Cities/AJAX_FETCH_FAIL",t.INITIAL_LOAD="skyscrapers/Cities/INITIAL_LOAD"},92:function(e,t,r){"use strict";var n=r(13),i=r(274);n.Observable.prototype.switchMap=i.switchMap},94:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(167),o=r(183),a=n(o),s=(0,i.combineEpics)(a.default,o.listMoreCities);t.default=s},95:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var i=r(21),o=r(184),a=n(o),s=r(42),u=t.initialState=(0,i.fromJS)({list:o.initialState,filterTxt:""}),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1],r=t.type,n=t.payload;switch(r){case s.AJAX_FETCH_END:return e.set("list",(0,a.default)(e.get("list"),t));case s.CHANGE_FILTER_TXT:return e.set("filterTxt",n);default:return e}};t.default=c},118:function(e,t,r){"use strict";var n=r(272);t.concat=n.concatStatic},123:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectFilteredList=t.selectList=void 0;var n=r(30),i=r(186),o=t.selectList=function(){return(0,n.createSelector)((0,i.selectCities)(),function(e){return e.get("list")})};t.selectFilteredList=function(){return(0,n.createSelector)(o(),(0,i.selectFilterTxt)(),function(e,t){if(!t)return e;var r=new RegExp(t,"i","g");return e.filter(function(e){return r.test(e.get("title"))})})}},124:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initialLoad=t.ajaxFetchFail=t.ajaxFetchEnd=t.ajaxFetchStart=t.changeFilterTxt=void 0;var i=r(125),o=n(i),a=r(42);t.changeFilterTxt=(0,o.default)(a.CHANGE_FILTER_TXT),t.ajaxFetchStart=(0,o.default)(a.AJAX_FETCH_START),t.ajaxFetchEnd=(0,o.default)(a.AJAX_FETCH_END),t.ajaxFetchFail=(0,o.default)(a.AJAX_FETCH_FAIL),t.initialLoad=(0,o.default)(a.INITIAL_LOAD)},125:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return function(t,r){return{type:e,payload:t,meta:r}}};t.default=r},169:function(e,t,r){"use strict";var n=r(13),i=r(271);n.Observable.prototype.catch=i._catch,n.Observable.prototype._catch=i._catch},170:function(e,t,r){"use strict";var n=r(13),i=r(120);n.Observable.prototype.map=i.map},171:function(e,t,r){"use strict";var n=r(270);t.ajax=n.AjaxObservable.create},183:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listMoreCities=void 0,r(170),r(269),r(92),r(169);var n=r(118),i=r(119),o=r(171),a=r(124),s=r(42),u=r(185),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,r=e.start,s="";return r&&(s+=", start="+r),t&&(s+=", limit="+t),s=s.substr(2),(0,n.concat)((0,i.of)((0,a.ajaxFetchStart)()),(0,o.ajax)({url:"https://skyscrapers.nurgulyashyrov.com/graphql/",body:{query:(0,u.getQuery)(),variables:JSON.stringify({selector:s})},method:"POST"}).map(function(e){return(0,a.ajaxFetchEnd)(e.response)}).catch(function(e){return(0,i.of)((0,a.ajaxFetchFail)(e))}))};t.listMoreCities=function(e){return e.ofType(s.AJAX_FETCH_END).takeWhile(function(e){var t=e.payload.data.city,r=t.getTotal,n=t.getLimit,i=t.getStart;return r>n+i}).switchMap(function(e){var t=e.payload.data.city,r=t.getLimit,n=t.getStart;return c({start:n+r})})};t.default=c},184:function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var i=r(21),o=r(42),a=t.initialState=new i.List,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1],r=t.type,s=t.payload;switch(r){case o.AJAX_FETCH_END:return e.push.apply(e,n(s.data.city.list.map(function(e){return new i.Map(e)})));default:return e}};t.default=s},185:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="query cities($selector: Selector){\n  city(s: $selector){\n    getTotal\n    getLimit\n    getStart\n    list{\n      id\n      title\n      skyscrapersCount: numChildren\n      map{\n        lat\n        lng\n      }\n    }\n  }\n}";t.getQuery=function(){return r}},186:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectFilterTxt=t.selectCities=void 0;var n=r(30),i=t.selectCities=function(){return function(e){return e.get("cities")}};t.selectFilterTxt=function(){return(0,n.createSelector)(i(),function(e){return e.get("filterTxt")})}},187:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectSanitizedLocationQuery=t.selectFilterUrl=t.selectFilterSelector=t.selectFilterValues=t.selectCityOptions=t.selectYearOptions=t.selectFloorsOptions=t.selectHeightOptions=void 0;var n=function(){function e(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=r(21),o=r(1032),a=r(30),s=r(263),u=r(123),c=r(122),l=t.selectHeightOptions=function(){return function(){return[{key:"any",text:"Any",value:""},{key:"0-250",text:"0-250 ft.",value:"0-250"},{key:"250-500",text:"250-500 ft.",value:"250-500"},{key:"500-750",text:"500-750 ft.",value:"500-750"},{key:"750-1000",text:"750-1000 ft.",value:"750-1000"},{key:"1000+",text:"1000+ ft.",value:"1000-"}]}},f=t.selectFloorsOptions=function(){return function(){return[{key:"any",text:"Any",value:""},{key:"0-20",text:"0-20 floors",value:"0-20"},{key:"20-40",text:"20-40 floors",value:"20-40"},{key:"40-60",text:"40-60 floors",value:"40-60"},{key:"60-80",text:"60-80 floors",value:"60-80"},{key:"80+",text:"80+ floors",value:"80-"}]}},d=t.selectYearOptions=function(){return function(){for(var e=[{key:"any",text:"Any",value:""}],t=1850;t<=2010;t+=10)e.push({key:t,text:t+"s",value:String(t)});return e}},p=(t.selectCityOptions=function(){return(0,a.createSelector)((0,u.selectList)(),function(e){return e.map(function(e){return{key:e.get("id"),text:e.get("title"),value:e.get("id")}}).toJS()})},t.selectFilterValues=function(){return function(e){return(0,s.formValueSelector)("filter")(e,"keyword","cities","height","floors","year")}}),h=function(e){var t=e.keyword,r=e.cities,i=e.height,o=e.floors,a=e.year,s="";if(t&&(s+=", title|body%="+t),r.size&&(s+=", parent="+r.join("|")),i){var u=i.split("-"),c=n(u,2),l=c[0],f=c[1];l&&(s+=", height>="+l),f&&(s+=", height<="+f)}if(o){var d=o.split("-"),p=n(d,2),h=p[0],y=p[1];h&&(s+=", floors>="+h),y&&(s+=", floors<="+y)}return a&&(s+=", year>="+a+", year<="+(Number(a)+9)),s.substr(2)};t.selectFilterSelector=function(){return(0,a.createSelector)(p(),h)},t.selectFilterUrl=function(){return(0,a.createSelector)((0,c.selectLocationPathname)(),p(),function(e,t){var r=Object.keys(t),n=r.reduce(function(e,r){var n="cities"===r?t[r].join("|"):t[r];return n&&(e+=r+"="+n+"&"),e},"");n&&(n=n.substr(0,n.length-1));var i=e;return n&&(i+="?"+n),i})},t.selectSanitizedLocationQuery=function(){return(0,a.createSelector)((0,c.selectLocation)(),l(),f(),d(),function(e,t,r,n){return["keyword","cities","height","floors","year"].reduce(function(e,a){var s=e.get(a);s instanceof i.List&&(s=s.join("|"));var u=void 0;if(!s)return e;switch(a){case"keyword":return e.set(a,String(s));case"cities":var c=s.split("|"),l=c.filter(function(e){return(0,o.isNumeric)(e)});return e.set(a,l.join("|"));case"height":return u=t.find(function(e){return e.value===s})||"",e.set(a,u.value);case"floors":return u=r.find(function(e){return e.value===s})||"",e.set(a,u.value);case"year":return u=n.find(function(e){return e.value===s})||"",e.set(a,u.value);default:return e}},e.get("query"))})}},188:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.UPDATE_FILTER_KEYWORD="skyscrapers/Skyscrapers/UPDATE_FILTER_KEYWORD",t.AJAX_FETCH_START="skyscrapers/Skyscrapers/AJAX_FETCH_START",t.AJAX_FETCH_END="skyscrapers/Skyscrapers/AJAX_FETCH_END",t.AJAX_FETCH_FAIL="skyscrapers/Skyscrapers/AJAX_FETCH_FAIL",t.INITIAL_LOAD="skyscrapers/Skyscrapers/INITIAL_LOAD"},269:function(e,t,r){"use strict";var n=r(13),i=r(275);n.Observable.prototype.takeWhile=i.takeWhile},270:function(e,t,r){"use strict";function n(){if(d.root.XMLHttpRequest)return new d.root.XMLHttpRequest;if(d.root.XDomainRequest)return new d.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}function i(){if(d.root.XMLHttpRequest)return new d.root.XMLHttpRequest;var e=void 0;try{for(var t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=0;r<3;r++)try{if(e=t[r],new d.root.ActiveXObject(e))break}catch(e){}return new d.root.ActiveXObject(e)}catch(e){throw new Error("XMLHttpRequest is not supported by your browser")}}function o(e,t){return void 0===t&&(t=null),new b({method:"GET",url:e,headers:t})}function a(e,t,r){return new b({method:"POST",url:e,body:t,headers:r})}function s(e,t){return new b({method:"DELETE",url:e,headers:t})}function u(e,t,r){return new b({method:"PUT",url:e,body:t,headers:r})}function c(e,t,r){return new b({method:"PATCH",url:e,body:t,headers:r})}function l(e,t){return new b({method:"GET",url:e,responseType:"json",headers:t}).lift(new m.MapOperator(function(e,t){return e.response},null))}var f=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},d=r(41),p=r(280),h=r(172),y=r(13),v=r(27),m=r(120);t.ajaxGet=o,t.ajaxPost=a,t.ajaxDelete=s,t.ajaxPut=u,t.ajaxPatch=c,t.ajaxGetJSON=l;var b=function(e){function t(t){e.call(this);var r={async:!0,createXHR:function(){return this.crossDomain?n.call(this):i()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof t)r.url=t;else for(var o in t)t.hasOwnProperty(o)&&(r[o]=t[o]);this.request=r}return f(t,e),t.prototype._subscribe=function(e){return new _(e,this.request)},t.create=function(){var e=function(e){return new t(e)};return e.get=o,e.post=a,e.delete=s,e.put=u,e.patch=c,e.getJSON=l,e}(),t}(y.Observable);t.AjaxObservable=b;var _=function(e){function t(t,r){e.call(this,t),this.request=r,this.done=!1;var n=r.headers=r.headers||{};r.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in n||d.root.FormData&&r.body instanceof d.root.FormData||"undefined"==typeof r.body||(n["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),r.body=this.serializeBody(r.body,r.headers["Content-Type"]),this.send()}return f(t,e),t.prototype.next=function(e){this.done=!0;var t=this,r=t.xhr,n=t.request,i=t.destination,o=new g(e,r,n);i.next(o)},t.prototype.send=function(){var e=this,t=e.request,r=e.request,n=r.user,i=r.method,o=r.url,a=r.async,s=r.password,u=r.headers,c=r.body,l=t.createXHR,f=p.tryCatch(l).call(t);if(f===h.errorObject)this.error(h.errorObject.e);else{this.xhr=f,this.setupEvents(f,t);var d=void 0;if(d=n?p.tryCatch(f.open).call(f,i,o,a,n,s):p.tryCatch(f.open).call(f,i,o,a),d===h.errorObject)return this.error(h.errorObject.e),null;if(f.timeout=t.timeout,f.responseType=t.responseType,"withCredentials"in f&&(f.withCredentials=!!t.withCredentials),this.setHeaders(f,u),d=c?p.tryCatch(f.send).call(f,c):p.tryCatch(f.send).call(f),d===h.errorObject)return this.error(h.errorObject.e),null}return f},t.prototype.serializeBody=function(e,t){if(!e||"string"==typeof e)return e;if(d.root.FormData&&e instanceof d.root.FormData)return e;if(t){var r=t.indexOf(";");r!==-1&&(t=t.substring(0,r))}switch(t){case"application/x-www-form-urlencoded":return Object.keys(e).map(function(t){return encodeURI(t)+"="+encodeURI(e[t])}).join("&");case"application/json":return JSON.stringify(e);default:return e}},t.prototype.setHeaders=function(e,t){for(var r in t)t.hasOwnProperty(r)&&e.setRequestHeader(r,t[r])},t.prototype.setupEvents=function(e,t){function r(e){var t=r,n=t.subscriber,i=t.progressSubscriber,o=t.request;i&&i.error(e),n.error(new F(this,o))}function n(e){var t=n,r=t.subscriber,i=t.progressSubscriber,o=t.request;if(4===this.readyState){var a=1223===this.status?204:this.status,s="text"===this.responseType?this.response||this.responseText:this.response;0===a&&(a=s?200:0),200<=a&&a<300?(i&&i.complete(),r.next(e),r.complete()):(i&&i.error(e),r.error(new S("ajax error "+a,this,o)))}}var i=t.progressSubscriber;if(e.ontimeout=r,r.request=t,r.subscriber=this,r.progressSubscriber=i,e.upload&&"withCredentials"in e){if(i){var o;o=function(e){var t=o.progressSubscriber;t.next(e)},d.root.XDomainRequest?e.onprogress=o:e.upload.onprogress=o,o.progressSubscriber=i}var a;a=function(e){var t=a,r=t.progressSubscriber,n=t.subscriber,i=t.request;r&&r.error(e),n.error(new S("ajax error",this,i))},e.onerror=a,a.request=t,a.subscriber=this,a.progressSubscriber=i}e.onreadystatechange=n,n.subscriber=this,n.progressSubscriber=i,n.request=t},t.prototype.unsubscribe=function(){var t=this,r=t.done,n=t.xhr;!r&&n&&4!==n.readyState&&"function"==typeof n.abort&&n.abort(),e.prototype.unsubscribe.call(this)},t}(v.Subscriber);t.AjaxSubscriber=_;var g=function(){function e(e,t,r){switch(this.originalEvent=e,this.xhr=t,this.request=r,this.status=t.status,this.responseType=t.responseType||r.responseType,this.responseType){case"json":"response"in t?this.response=t.responseType?t.response:JSON.parse(t.response||t.responseText||"null"):this.response=JSON.parse(t.responseText||"null");break;case"xml":this.response=t.responseXML;break;case"text":default:this.response="response"in t?t.response:t.responseText}}return e}();t.AjaxResponse=g;var S=function(e){function t(t,r,n){e.call(this,t),this.message=t,this.xhr=r,this.request=n,this.status=r.status}return f(t,e),t}(Error);t.AjaxError=S;var F=function(e){function t(t,r){e.call(this,"ajax timeout",t,r)}return f(t,e),t}(S);t.AjaxTimeoutError=F},271:function(e,t,r){"use strict";function n(e){var t=new s(e),r=this.lift(t);return t.caught=r}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(115),a=r(121);t._catch=n;var s=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.selector,this.caught))},e}(),u=function(e){function t(t,r,n){e.call(this,t),this.selector=r,this.caught=n}return i(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=void 0;try{r=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle(),this.add(a.subscribeToResult(this,r))}},t}(o.OuterSubscriber)},272:function(e,t,r){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return this.lift.call(i.apply(void 0,[this].concat(e)))}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null,n=e;return a.isScheduler(n[e.length-1])&&(r=n.pop()),null===r&&1===e.length&&e[0]instanceof o.Observable?e[0]:new s.ArrayObservable(e,r).lift(new u.MergeAllOperator(1))}var o=r(13),a=r(173),s=r(117),u=r(273);t.concat=n,t.concatStatic=i},275:function(e,t,r){"use strict";function n(e){return this.lift(new a(e))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(27);t.takeWhile=n;var a=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate))},e}(),s=function(e){function t(t,r){e.call(this,t),this.predicate=r,this.index=0}return i(t,e),t.prototype._next=function(e){var t,r=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void r.error(e)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var r=this.destination;Boolean(t)?r.next(e):r.complete()},t}(o.Subscriber)},311:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(167),o=r(571),a=n(o),s=r(573),u=n(s),c=(0,i.combineEpics)(u.default,a.default,s.initFilterForm);t.default=c},312:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),o=n(i),a=r(576),s=n(a),u=r(572),c=n(u),l=r(28),f=function(){return o.default.createElement("div",null,o.default.createElement(c.default,null),o.default.createElement(l.Divider,{hidden:!0}),o.default.createElement(s.default,null))};t.default=f},313:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var i=r(21),o=r(577),a=n(o),s=r(61),u=r(188),c=t.initialState=(0,i.fromJS)({list:o.initialState,loading:!1,filterOn:!1,filter:{keyword:"",city:[],heightMin:!1,heigthMax:!1,floorsMin:!1,floorsMax:!1,yearMin:!1,yearMax:!1}}),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1],r=t.type,n=t.payload;switch(r){case u.AJAX_FETCH_START:return e.set("loading",!0);case u.AJAX_FETCH_END:return e=e.set("loading",!1),e.set("list",(0,a.default)(e.get("list"),t));case u.AJAX_FETCH_FAIL:return e.set("loading",!1);case u.UPDATE_FILTER_KEYWORD:return e.set("keyword",n);case s.LOCATION_CHANGE:if("POP"!==n.action)return e;var i=n.query.keyword||"";return e.set("keyword",i);default:return e}};t.default=l},314:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectLoading=t.selectSkyscrapers=void 0;var n=r(30),i=t.selectSkyscrapers=function(){return function(e){return e.get("skyscrapers")}};t.selectLoading=function(){return(0,n.createSelector)(i(),function(e){return e.get("loading")})}},451:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.values=t.untouch=t.unregisterField=t.touch=t.SubmissionError=t.submit=t.stopSubmit=t.stopAsyncValidation=t.startSubmit=t.startAsyncValidation=t.setSubmitSucceeded=t.setSubmitFailed=t.reset=t.registerField=t.reduxForm=t.reducer=t.propTypes=t.hasSubmitFailed=t.hasSubmitSucceeded=t.isSubmitting=t.isValid=t.isPristine=t.isInvalid=t.isDirty=t.initialize=t.getFormSubmitErrors=t.getFormAsyncErrors=t.getFormSyncErrors=t.getFormInitialValues=t.getFormValues=t.formValueSelector=t.focus=t.FormSection=t.Form=t.FieldArray=t.Fields=t.Field=t.destroy=t.change=t.blur=t.autofill=t.arrayUnshift=t.arraySwap=t.arraySplice=t.arrayShift=t.arrayRemoveAll=t.arrayRemove=t.arrayPush=t.arrayPop=t.arrayMove=t.arrayInsert=t.actionTypes=void 0;var i=r(446),o=n(i),a=r(63),s=n(a),u=(0,o.default)(s.default),c=u.actionTypes,l=u.arrayInsert,f=u.arrayMove,d=u.arrayPop,p=u.arrayPush,h=u.arrayRemove,y=u.arrayRemoveAll,v=u.arrayShift,m=u.arraySplice,b=u.arraySwap,_=u.arrayUnshift,g=u.autofill,S=u.blur,F=u.change,T=u.destroy,A=u.Field,E=u.Fields,O=u.FieldArray,x=u.Form,w=u.FormSection,j=u.focus,C=u.formValueSelector,M=u.getFormValues,L=u.getFormInitialValues,P=u.getFormSyncErrors,k=u.getFormAsyncErrors,I=u.getFormSubmitErrors,H=u.initialize,X=u.isDirty,D=u.isInvalid,R=u.isPristine,N=u.isValid,q=u.isSubmitting,J=u.hasSubmitSucceeded,V=u.hasSubmitFailed,G=u.propTypes,U=u.reducer,z=u.reduxForm,W=u.registerField,Y=u.reset,Q=u.setSubmitFailed,B=u.setSubmitSucceeded,K=u.startAsyncValidation,$=u.startSubmit,Z=u.stopAsyncValidation,ee=u.stopSubmit,te=u.submit,re=u.SubmissionError,ne=u.touch,ie=u.unregisterField,oe=u.untouch,ae=u.values;t.actionTypes=c,t.arrayInsert=l,t.arrayMove=f,t.arrayPop=d,t.arrayPush=p,t.arrayRemove=h,t.arrayRemoveAll=y,t.arrayShift=v,t.arraySplice=m,t.arraySwap=b,t.arrayUnshift=_,t.autofill=g,t.blur=S,t.change=F,t.destroy=T,t.Field=A,t.Fields=E,t.FieldArray=O,t.Form=x,t.FormSection=w,t.focus=j,t.formValueSelector=C,t.getFormValues=M,t.getFormInitialValues=L,t.getFormSyncErrors=P,t.getFormAsyncErrors=k,t.getFormSubmitErrors=I,t.initialize=H,t.isDirty=X,t.isInvalid=D,t.isPristine=R,t.isValid=N,t.isSubmitting=q,t.hasSubmitSucceeded=J,t.hasSubmitFailed=V,t.propTypes=G,t.reducer=U,t.reduxForm=z,t.registerField=W,t.reset=Y,t.setSubmitFailed=Q,t.setSubmitSucceeded=B,t.startAsyncValidation=K,t.startSubmit=$,t.stopAsyncValidation=Z,t.stopSubmit=ee,t.submit=te,t.SubmissionError=re,t.touch=ne,t.unregisterField=ie,t.untouch=oe,t.values=ae},562:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=n(o),s=r(21),u=r(28),c=function(e){var t=e.input,r=(e.meta,i(e,["input","meta"])),n=t.onChange;return t.value=t.value.toArray(),a.default.createElement(u.Dropdown,Object.assign({},t,r,{onChange:function(e,t){var r=t.value;return n(new s.List(r))},onBlur:function(){}}))};t.default=c},563:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),o=n(i),a=r(28),s=function(e){var t=(e.meta,e.input),r=e.options,n=e.label;return o.default.createElement(a.Form.Field,null,o.default.createElement("label",null,n),o.default.createElement("select",t,r.map(function(e){return o.default.createElement("option",{key:e.key||e.value,value:e.value},e.text)})))};t.default=s},564:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=n(o),s=r(28),u=function(e){var t=e.input,r=(e.meta,i(e,["input","meta"]));return a.default.createElement(s.Input,Object.assign({},t,r))};t.default=u},568:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectItem=void 0;var n=r(30),i=r(123);t.selectItem=function(e){return(0,n.createSelector)((0,i.selectList)(),function(t){return t.find(function(t){return t.get("id")===e})})}},571:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),r(1012),r(92);var i=r(118),o=r(119),a=r(451),s=r(61),u=r(122),c=r(187),l=r(575),f=n(l),d=a.actionTypes.CHANGE,p=function(e,t){return e.ofType(d).debounceTime(300).switchMap(function(){var e=t.getState(),r=(0,u.selectLocationPathname)()(e),n=(0,c.selectFilterSelector)()(e),a=(0,u.selectLocationSearch)()(e),l=(0,c.selectFilterUrl)()(e);return""+r+a===l?(0,f.default)(n):(0,i.concat)((0,f.default)(n),(0,o.of)((0,s.push)(l)))})};t.default=p},572:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FilterComponent=void 0;var i=r(1),o=n(i),a=r(32),s=r(30),u=r(263),c=r(28),l=r(564),f=n(l),d=r(563),p=n(d),h=r(562),y=n(h),v=r(187),m=c.Form.Field,b=c.Form.Group,_=t.FilterComponent=function(e){var t=e.heightOptions,r=e.yearOptions,n=e.floorsOptions,i=e.cityOptions;return o.default.createElement(c.Segment,null,o.default.createElement(c.Form,null,o.default.createElement(b,{widths:"equal"},o.default.createElement(m,null,o.default.createElement(u.Field,{name:"keyword",component:f.default,placeholder:"Keyword"})),o.default.createElement(m,null,o.default.createElement(u.Field,{name:"cities",component:y.default,placeholder:"City",options:i,fluid:!0,multiple:!0,search:!0,selection:!0}))),o.default.createElement(b,{widths:"equal"},o.default.createElement(m,null,o.default.createElement(u.Field,{name:"height",component:p.default,label:"Height",options:t})),o.default.createElement(m,null,o.default.createElement(u.Field,{name:"floors",component:p.default,label:"Floors",options:n})),o.default.createElement(m,null,o.default.createElement(u.Field,{name:"year",component:p.default,label:"Year",options:r})))))},g=(0,s.createStructuredSelector)({heightOptions:(0,v.selectHeightOptions)(),floorsOptions:(0,v.selectFloorsOptions)(),yearOptions:(0,v.selectYearOptions)(),cityOptions:(0,v.selectCityOptions)()});t.default=(0,u.reduxForm)({form:"filter",initialValues:{keyword:"",height:!1,floors:!1,year:!1,cities:[]}})((0,a.connect)(g)(_))},573:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initFilterForm=t.changeFilterForm=void 0;var n=r(21);r(268),r(92);var i=r(465),o=r(61),a=r(451),s=r(122),u=r(187),c=a.actionTypes.INITIALIZE,l=t.changeFilterForm=function(e,t){var r=(0,u.selectSanitizedLocationQuery)()(t.getState()),o=["keyword","cities","height","floors","year"].map(function(e){var t=r.get(e)||"";return"cities"===e&&(t=t?new n.List(t.split("|")):new n.List),(0,a.change)("filter",e,t)});return(0,i.from)(o)},f=(t.initFilterForm=function(e,t){return e.ofType(c).switchMap(function(){return l(e,t)})},function(e,t){return e.filter(function(e){var r=e.type,n=(e.payload,t.getState()),i=(0,s.selectLocationPathname)()(n),a=(0,s.selectLocationSearch)()(n),c=(0,u.selectFilterUrl)()(n);return r===o.LOCATION_CHANGE&&""+i+a!==c&&"/"===i}).switchMap(function(){return l(e,t)})});t.default=f},574:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItemComponent=void 0;var i=r(1),o=n(i),a=r(32),s=r(568),u=r(28),c=r(61),l=u.Card.Header,f=u.Card.Content,d=t.ItemComponent=function(e){var t=e.skyscraper,r=e.city,n=e.goToCityPage,i=t.get("height")||null,a=t.get("floors")||null;return o.default.createElement(u.Card,null,o.default.createElement(u.Image,{fluid:!0,src:"https://placehold.it/200/",alt:t.get("title")}),o.default.createElement(f,null,o.default.createElement(l,null,t.get("title")),r&&o.default.createElement("a",{href:"/?cities="+r.get("id"),onClick:n(r.get("id"))},r.get("title"))),o.default.createElement(f,{extra:!0},a&&o.default.createElement(u.Statistic,{value:a,label:"floors",size:"mini"}),i&&o.default.createElement(u.Statistic,{value:i,label:"height",size:"mini"})))},p=function(){return function(e,t){var r=t.skyscraper;return{city:(0,s.selectItem)(r.get("parentID"))(e)}}},h=function(e){return{goToCityPage:function(t){return function(r){r.preventDefault(),e((0,c.push)("?cities="+t))}}}};t.default=(0,a.connect)(p,h)(d)},575:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),r(170),r(268),r(169),r(92);var i=r(118),o=r(119),a=r(171),s=r(579),u=r(580),c=n(u),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,i.concat)((0,o.of)((0,s.ajaxFetchStart)()),(0,a.ajax)({url:"https://skyscrapers.nurgulyashyrov.com/graphql/",body:{query:c.default,variables:JSON.stringify({selector:e})},method:"POST"}).map(function(e){return(0,s.ajaxFetchEnd)(e.response)}).catch(function(e){return(0,o.of)((0,s.ajaxFetchFail)(e))}))};t.default=l},576:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ListComponent=void 0;var i=r(1),o=n(i),a=r(32),s=r(30),u=r(28),c=r(578),l=r(314),f=r(574),d=n(f),p=t.ListComponent=function(e){var t=e.list,r=e.loading;return o.default.createElement(u.Card.Group,{itemsPerRow:4,style:{minHeight:"200px"}},o.default.createElement(u.Loader,{active:r},"Loading..."),!r&&t.map(function(e){return o.default.createElement(d.default,{key:e.get("id"),skyscraper:e})}))},h=(0,s.createStructuredSelector)({list:(0,c.selectList)(),loading:(0,l.selectLoading)()});t.default=(0,a.connect)(h)(p)},577:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var n=r(21),i=r(188),o=t.initialState=new n.List,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1],r=t.type,a=t.payload;switch(r){case i.AJAX_FETCH_END:return new n.List(a.data.skyscraper.list.map(function(e){return new n.Map(e)}));default:return e}};t.default=a},578:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectList=void 0;var n=r(30),i=r(314);t.selectList=function(){return(0,n.createSelector)((0,i.selectSkyscrapers)(),function(e){return e.get("list")})}},579:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initialLoad=t.ajaxFetchFail=t.ajaxFetchEnd=t.ajaxFetchStart=void 0;var i=r(125),o=n(i),a=r(188);t.ajaxFetchStart=(0,o.default)(a.AJAX_FETCH_START),t.ajaxFetchEnd=(0,o.default)(a.AJAX_FETCH_END),t.ajaxFetchFail=(0,o.default)(a.AJAX_FETCH_FAIL),t.initialLoad=(0,o.default)(a.INITIAL_LOAD)},580:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="query skyscrapers($selector: Selector){\n  skyscraper(s: $selector){\n    getTotal\n    getLimit\n    getStart\n    list{\n      id\n      title\n      height\n      floors\n      year\n      parentID\n      wikipedia_id\n      map{\n        lat\n        lng\n      }\n      architects{\n       \tlist{\n          title\n          id\n        } \n      }\n    }\n  }\n}";t.getQuery=function(){return r};t.default=r},1012:function(e,t,r){"use strict";var n=r(13),i=r(1021);n.Observable.prototype.debounceTime=i.debounceTime},1021:function(e,t,r){"use strict";function n(e,t){return void 0===t&&(t=s.async),this.lift(new u(e,t))}function i(e){e.debouncedNext()}var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=r(27),s=r(1029);t.debounceTime=n;var u=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.dueTime,this.scheduler))},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.dueTime=r,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return o(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(i,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(a.Subscriber)},1029:function(e,t,r){"use strict";var n=r(468),i=r(469);t.async=new i.AsyncScheduler(n.AsyncAction)},1032:function(e,t,r){"use strict";function n(e){return!i.isArray(e)&&e-parseFloat(e)+1>=0}var i=r(279);t.isNumeric=n}});
//# sourceMappingURL=1.2692beb6.chunk.js.map
webpackJsonp([1],{35:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NAME="skyscrapers",t.UPDATE_FILTER_KEYWORD="skyscrapers/Skyscrapers/UPDATE_FILTER_KEYWORD",t.AJAX_FETCH_START="skyscrapers/Skyscrapers/AJAX_FETCH_START",t.AJAX_FETCH_END="skyscrapers/Skyscrapers/AJAX_FETCH_END",t.AJAX_FETCH_FAIL="skyscrapers/Skyscrapers/AJAX_FETCH_FAIL",t.INITIAL_LOAD="skyscrapers/Skyscrapers/INITIAL_LOAD"},43:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NAME="cities",t.CHANGE_FILTER_TXT="skyscrapers/Cities/CHANGE_FILTER_TXT",t.AJAX_FETCH_START="skyscrapers/Cities/AJAX_FETCH_START",t.AJAX_FETCH_END="skyscrapers/Cities/AJAX_FETCH_END",t.AJAX_FETCH_FAIL="skyscrapers/Cities/AJAX_FETCH_FAIL",t.INITIAL_LOAD="skyscrapers/Cities/INITIAL_LOAD"},65:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NAME="images",t.AJAX_GET_IMAGES="skyscrapers/Images/AJAX_GET_IMAGES",t.AJAX_IMG_TTL_FETCH_START="skyscrapers/Images/AJAX_IMG_TTL_FETCH_START",t.AJAX_IMG_TTL_FETCH_END="skyscrapers/Images/AJAX_IMG_TTL_FETCH_END",t.AJAX_IMG_TTL_FETCH_FAIL="skyscrapers/Images/AJAX_IMG_TTL_FETCH_FAIL",t.AJAX_IMG_FETCH_START="skyscrapers/Images/AJAX_IMG_FETCH_START",t.AJAX_IMG_FETCH_END="skyscrapers/Images/AJAX_IMG_FETCH_END",t.AJAX_IMG_FETCH_FAIL="skyscrapers/Images/AJAX_IMG_FETCH_FAIL",t.WIKIPEDIA_API_URL="https://en.wikipedia.org/w/api.php?origin=*&formatversion=2&format=json&action=query"},94:function(e,t,r){"use strict";var n=r(13),i=r(275);n.Observable.prototype.switchMap=i.switchMap},96:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectFilteredList=t.selectList=void 0;var n=r(24),i=r(186),a=t.selectList=function(){return(0,n.createSelector)((0,i.selectCities)(),function(e){return e.get("list")})};t.selectFilteredList=function(){return(0,n.createSelector)(a(),(0,i.selectFilterTxt)(),function(e,t){if(!t)return e;var r=new RegExp(t,"i");return e.filter(function(e){return r.test(e.get("title"))})})}},97:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return function(t,r){return{type:e,payload:t,meta:r}}};t.default=r},120:function(e,t,r){"use strict";var n=r(273);t.concat=n.concatStatic},124:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Group=void 0;var a=r(1),o=i(a),s=r(34),u=r(185),l=n(u),c=function(e){var t=e.children,r=e.style,n=e.raise;return n=n||0,o.default.createElement(s.Segment,{style:Object.assign({},l.flatBox,l["elevation"+n],r)},t)},f=t.Group=function(e){var t=e.children,r=e.style,n=e.raise;return n=n||0,o.default.createElement(s.Segment.Group,{style:Object.assign({},l.flatBox,l["elevation"+n],r)},t)};c.Group=f,t.default=c},126:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectImagelessWikipediaIds=t.selectList=void 0;var n=r(24),i=r(127),a=t.selectList=function(){return(0,n.createSelector)((0,i.selectSkyscrapers)(),function(e){return e.get("list")})};t.selectImagelessWikipediaIds=function(){return(0,n.createSelector)(a(),function(e){return e.filter(function(e){return!e.get("images")}).map(function(e){return e.get("wikipedia_id")})})}},127:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectLoading=t.selectSkyscrapers=void 0;var n=r(24),i=t.selectSkyscrapers=function(){return function(e){return e.get("skyscrapers")}};t.selectLoading=function(){return(0,n.createSelector)(i(),function(e){return e.get("loading")})}},171:function(e,t,r){"use strict";var n=r(13),i=r(272);n.Observable.prototype.catch=i._catch,n.Observable.prototype._catch=i._catch},172:function(e,t,r){"use strict";var n=r(271);t.ajax=n.AjaxObservable.create},186:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectFilterTxt=t.selectCities=void 0;var n=r(24),i=t.selectCities=function(){return function(e){return e.get("cities")}};t.selectFilterTxt=function(){return(0,n.createSelector)(i(),function(e){return e.get("filterTxt")})}},187:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ajaxImageFetchFail=t.ajaxImageFetchEnd=t.ajaxImageFetchStart=t.ajaxImageTitleFetchFail=t.ajaxImageTitleFetchEnd=t.ajaxImageTitleFetchStart=t.ajaxGetImages=void 0;var a=r(97),o=i(a),s=r(65),u=n(s);t.ajaxGetImages=(0,o.default)(u.AJAX_GET_IMAGES),t.ajaxImageTitleFetchStart=(0,o.default)(u.AJAX_IMG_TTL_FETCH_START),t.ajaxImageTitleFetchEnd=(0,o.default)(u.AJAX_IMG_TTL_FETCH_END),t.ajaxImageTitleFetchFail=(0,o.default)(u.AJAX_IMG_TTL_FETCH_FAIL),t.ajaxImageFetchStart=(0,o.default)(u.AJAX_IMG_FETCH_START),t.ajaxImageFetchEnd=(0,o.default)(u.AJAX_IMG_FETCH_END),t.ajaxImageFetchFail=(0,o.default)(u.AJAX_IMG_FETCH_FAIL)},188:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectThumbnailForPage=t.selectImagelessPageTitles=t.selectImagelessPageIds=t.selectImages=t.thumbPlaceholder=void 0;var n=r(24),i=r(126),a=r(35),o=r(96),s=r(43),u=t.thumbPlaceholder="/sky-placeholder.png",l=t.selectImages=function(){return function(e){return e.get("images")}},c=function(e){if(e===a.NAME)return(0,i.selectList)();if(e===s.NAME)return(0,o.selectList)();throw new Error("Only '"+a.NAME+"' or '"+s.NAME+"' is supported by selectListSelector.")},f=(t.selectImagelessPageIds=function(e){return(0,n.createSelector)(c(e),l(),function(e,t){return e.reduce(function(e,r){var n=r.get("wikipedia_id"),i=t.find(function(e){return e.get("pageId")===n});return i&&i.get("url")||e.push(n),e},[])})},new RegExp("jpe?g$","i"));t.selectImagelessPageTitles=function(e){return(0,n.createSelector)(c(e),l(),function(e,t){return e.reduce(function(e,r){var n=r.get("wikipedia_id"),i=t.find(function(e){return e.get("pageId")===n&&(!e.get("url")&&!!f.test(e.get("title")))});return i&&e.push(i.get("title")),e},[])})},t.selectThumbnailForPage=function(e){return(0,n.createSelector)(l(),function(t){var r=t.find(function(t){return t.get("pageId")===e&&!!f.test(t.get("title"))});if(!r)return u;var n=r.get("thumburl");return n?n:u})}},189:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectSanitizedLocationQuery=t.selectFilterUrl=t.selectFilterSelector=t.selectFilterValues=t.selectCityOptions=t.selectYearOptions=t.selectFloorsOptions=t.selectHeightOptions=void 0;var n=function(){function e(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=r(21),a=r(1041),o=r(24),s=r(264),u=r(96),l=r(125),c=t.selectHeightOptions=function(){return function(){return[{key:"any",text:"Any",value:""},{key:"0-250",text:"0-250 ft.",value:"0-250"},{key:"250-500",text:"250-500 ft.",value:"250-500"},{key:"500-750",text:"500-750 ft.",value:"500-750"},{key:"750-1000",text:"750-1000 ft.",value:"750-1000"},{key:"1000+",text:"1000+ ft.",value:"1000-"}]}},f=t.selectFloorsOptions=function(){return function(){return[{key:"any",text:"Any",value:""},{key:"0-20",text:"0-20 floors",value:"0-20"},{key:"20-40",text:"20-40 floors",value:"20-40"},{key:"40-60",text:"40-60 floors",value:"40-60"},{key:"60-80",text:"60-80 floors",value:"60-80"},{key:"80+",text:"80+ floors",value:"80-"}]}},d=t.selectYearOptions=function(){return function(){for(var e=[{key:"any",text:"Any",value:""}],t=1850;t<=2010;t+=10)e.push({key:t,text:t+"s",value:String(t)});return e}},p=(t.selectCityOptions=function(){return(0,o.createSelector)((0,u.selectList)(),function(e){return e.map(function(e){return{key:e.get("id"),text:e.get("title"),value:e.get("id")}}).toJS()})},t.selectFilterValues=function(){return function(e){return(0,s.formValueSelector)("filter")(e,"keyword","cities","height","floors","year")}}),h=function(e){var t=e.keyword,r=e.cities,i=e.height,a=e.floors,o=e.year,s="";if(t&&(s+=", title|body%="+t),r.size&&(s+=", parent="+r.join("|")),i){var u=i.split("-"),l=n(u,2),c=l[0],f=l[1];c&&(s+=", height>="+c),f&&(s+=", height<="+f)}if(a){var d=a.split("-"),p=n(d,2),h=p[0],y=p[1];h&&(s+=", floors>="+h),y&&(s+=", floors<="+y)}return o&&(s+=", year>="+o+", year<="+(Number(o)+9)),s.substr(2)};t.selectFilterSelector=function(){return(0,o.createSelector)(p(),h)},t.selectFilterUrl=function(){return(0,o.createSelector)((0,l.selectLocationPathname)(),p(),function(e,t){var r=Object.keys(t),n=r.reduce(function(e,r){var n="cities"===r?t[r].join("|"):t[r];return n&&(e+=r+"="+n+"&"),e},"");n&&(n=n.substr(0,n.length-1));var i=e;return n&&(i+="?"+n),i})},t.selectSanitizedLocationQuery=function(){return(0,o.createSelector)((0,l.selectLocation)(),c(),f(),d(),function(e,t,r,n){return["keyword","cities","height","floors","year"].reduce(function(e,o){var s=e.get(o);s instanceof i.List&&(s=s.join("|"));var u=void 0;if(!s)return e;switch(o){case"keyword":return e.set(o,String(s));case"cities":var l=s.split("|"),c=l.filter(function(e){return(0,a.isNumeric)(e)});return e.set(o,c.join("|"));case"height":return u=t.find(function(e){return e.value===s})||"",e.set(o,u.value);case"floors":return u=r.find(function(e){return e.value===s})||"",e.set(o,u.value);case"year":return u=n.find(function(e){return e.value===s})||"",e.set(o,u.value);default:return e}},e.get("query"))})}},270:function(e,t,r){"use strict";var n=r(13),i=r(122);n.Observable.prototype.map=i.map},271:function(e,t,r){"use strict";function n(){if(d.root.XMLHttpRequest)return new d.root.XMLHttpRequest;if(d.root.XDomainRequest)return new d.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}function i(){if(d.root.XMLHttpRequest)return new d.root.XMLHttpRequest;var e=void 0;try{for(var t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=0;r<3;r++)try{if(e=t[r],new d.root.ActiveXObject(e))break}catch(e){}return new d.root.ActiveXObject(e)}catch(e){throw new Error("XMLHttpRequest is not supported by your browser")}}function a(e,t){return void 0===t&&(t=null),new _({method:"GET",url:e,headers:t})}function o(e,t,r){return new _({method:"POST",url:e,body:t,headers:r})}function s(e,t){return new _({method:"DELETE",url:e,headers:t})}function u(e,t,r){return new _({method:"PUT",url:e,body:t,headers:r})}function l(e,t,r){return new _({method:"PATCH",url:e,body:t,headers:r})}function c(e,t){return new _({method:"GET",url:e,responseType:"json",headers:t}).lift(new m.MapOperator(function(e,t){return e.response},null))}var f=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},d=r(42),p=r(279),h=r(173),y=r(13),v=r(29),m=r(122);t.ajaxGet=a,t.ajaxPost=o,t.ajaxDelete=s,t.ajaxPut=u,t.ajaxPatch=l,t.ajaxGetJSON=c;var _=function(e){function t(t){e.call(this);var r={async:!0,createXHR:function(){return this.crossDomain?n.call(this):i()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof t)r.url=t;else for(var a in t)t.hasOwnProperty(a)&&(r[a]=t[a]);this.request=r}return f(t,e),t.prototype._subscribe=function(e){return new b(e,this.request)},t.create=function(){var e=function(e){return new t(e)};return e.get=a,e.post=o,e.delete=s,e.put=u,e.patch=l,e.getJSON=c,e}(),t}(y.Observable);t.AjaxObservable=_;var b=function(e){function t(t,r){e.call(this,t),this.request=r,this.done=!1;var n=r.headers=r.headers||{};r.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in n||d.root.FormData&&r.body instanceof d.root.FormData||"undefined"==typeof r.body||(n["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),r.body=this.serializeBody(r.body,r.headers["Content-Type"]),this.send()}return f(t,e),t.prototype.next=function(e){this.done=!0;var t=this,r=t.xhr,n=t.request,i=t.destination,a=new g(e,r,n);i.next(a)},t.prototype.send=function(){var e=this,t=e.request,r=e.request,n=r.user,i=r.method,a=r.url,o=r.async,s=r.password,u=r.headers,l=r.body,c=t.createXHR,f=p.tryCatch(c).call(t);if(f===h.errorObject)this.error(h.errorObject.e);else{this.xhr=f,this.setupEvents(f,t);var d=void 0;if(d=n?p.tryCatch(f.open).call(f,i,a,o,n,s):p.tryCatch(f.open).call(f,i,a,o),d===h.errorObject)return this.error(h.errorObject.e),null;if(f.timeout=t.timeout,f.responseType=t.responseType,"withCredentials"in f&&(f.withCredentials=!!t.withCredentials),this.setHeaders(f,u),d=l?p.tryCatch(f.send).call(f,l):p.tryCatch(f.send).call(f),d===h.errorObject)return this.error(h.errorObject.e),null}return f},t.prototype.serializeBody=function(e,t){if(!e||"string"==typeof e)return e;if(d.root.FormData&&e instanceof d.root.FormData)return e;if(t){var r=t.indexOf(";");r!==-1&&(t=t.substring(0,r))}switch(t){case"application/x-www-form-urlencoded":return Object.keys(e).map(function(t){return encodeURI(t)+"="+encodeURI(e[t])}).join("&");case"application/json":return JSON.stringify(e);default:return e}},t.prototype.setHeaders=function(e,t){for(var r in t)t.hasOwnProperty(r)&&e.setRequestHeader(r,t[r])},t.prototype.setupEvents=function(e,t){function r(e){var t=r,n=t.subscriber,i=t.progressSubscriber,a=t.request;i&&i.error(e),n.error(new A(this,a))}function n(e){var t=n,r=t.subscriber,i=t.progressSubscriber,a=t.request;if(4===this.readyState){var o=1223===this.status?204:this.status,s="text"===this.responseType?this.response||this.responseText:this.response;0===o&&(o=s?200:0),200<=o&&o<300?(i&&i.complete(),r.next(e),r.complete()):(i&&i.error(e),r.error(new F("ajax error "+o,this,a)))}}var i=t.progressSubscriber;if(e.ontimeout=r,r.request=t,r.subscriber=this,r.progressSubscriber=i,e.upload&&"withCredentials"in e){if(i){var a;a=function(e){var t=a.progressSubscriber;t.next(e)},d.root.XDomainRequest?e.onprogress=a:e.upload.onprogress=a,a.progressSubscriber=i}var o;o=function(e){var t=o,r=t.progressSubscriber,n=t.subscriber,i=t.request;r&&r.error(e),n.error(new F("ajax error",this,i))},e.onerror=o,o.request=t,o.subscriber=this,o.progressSubscriber=i}e.onreadystatechange=n,n.subscriber=this,n.progressSubscriber=i,n.request=t},t.prototype.unsubscribe=function(){var t=this,r=t.done,n=t.xhr;!r&&n&&4!==n.readyState&&"function"==typeof n.abort&&n.abort(),e.prototype.unsubscribe.call(this)},t}(v.Subscriber);t.AjaxSubscriber=b;var g=function(){function e(e,t,r){switch(this.originalEvent=e,this.xhr=t,this.request=r,this.status=t.status,this.responseType=t.responseType||r.responseType,this.responseType){case"json":"response"in t?this.response=t.responseType?t.response:JSON.parse(t.response||t.responseText||"null"):this.response=JSON.parse(t.responseText||"null");break;case"xml":this.response=t.responseXML;break;case"text":default:this.response="response"in t?t.response:t.responseText}}return e}();t.AjaxResponse=g;var F=function(e){function t(t,r,n){e.call(this,t),this.message=t,this.xhr=r,this.request=n,this.status=r.status}return f(t,e),t}(Error);t.AjaxError=F;var A=function(e){function t(t,r){e.call(this,"ajax timeout",t,r)}return f(t,e),t}(F);t.AjaxTimeoutError=A},272:function(e,t,r){"use strict";function n(e){var t=new s(e),r=this.lift(t);return t.caught=r}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=r(117),o=r(123);t._catch=n;var s=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.selector,this.caught))},e}(),u=function(e){function t(t,r,n){e.call(this,t),this.selector=r,this.caught=n}return i(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=void 0;try{r=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle(),this.add(o.subscribeToResult(this,r))}},t}(a.OuterSubscriber)},273:function(e,t,r){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return this.lift.call(i.apply(void 0,[this].concat(e)))}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null,n=e;return o.isScheduler(n[e.length-1])&&(r=n.pop()),null===r&&1===e.length&&e[0]instanceof a.Observable?e[0]:new s.ArrayObservable(e,r).lift(new u.MergeAllOperator(1))}var a=r(13),o=r(175),s=r(119),u=r(274);t.concat=n,t.concatStatic=i},307:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(169),a=r(571),o=n(a),s=(0,i.combineEpics)(o.default,a.listMoreCities);t.default=s},308:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var i=r(21),a=r(572),o=n(a),s=r(43),u=t.initialState=(0,i.fromJS)({list:a.initialState,filterTxt:""}),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1],r=t.type,n=t.payload;switch(r){case s.AJAX_FETCH_END:return e.set("list",(0,o.default)(e.get("list"),t));case s.CHANGE_FILTER_TXT:return e.set("filterTxt",n);default:return e}};t.default=l},313:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initialLoad=t.ajaxFetchFail=t.ajaxFetchEnd=t.ajaxFetchStart=void 0;var a=r(97),o=i(a),s=r(35),u=n(s);t.ajaxFetchStart=(0,o.default)(u.AJAX_FETCH_START),t.ajaxFetchEnd=(0,o.default)(u.AJAX_FETCH_END),t.ajaxFetchFail=(0,o.default)(u.AJAX_FETCH_FAIL),t.initialLoad=(0,o.default)(u.INITIAL_LOAD)},314:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(169),a=r(576),o=n(a),s=r(578),u=n(s),l=(0,i.combineEpics)(u.default,o.default,s.initFilterForm);t.default=l},315:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),a=n(i),o=r(581),s=n(o),u=r(577),l=n(u),c=r(34),f=function(){return a.default.createElement("div",null,a.default.createElement(l.default,null),a.default.createElement(c.Divider,{hidden:!0}),a.default.createElement(s.default,null))};t.default=f},316:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var a=r(21),o=r(583),s=i(o),u=r(62),l=r(35),c=n(l),f=t.initialState=(0,a.fromJS)({list:o.initialState,loading:!1,filterOn:!1,filter:{keyword:"",city:[],heightMin:!1,heigthMax:!1,floorsMin:!1,floorsMax:!1,yearMin:!1,yearMax:!1}}),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1],r=t.type,n=t.payload;switch(r){case c.AJAX_FETCH_START:return e.set("loading",!0);case c.AJAX_FETCH_END:return e=e.set("loading",!1),e.set("list",(0,s.default)(e.get("list"),t));case c.AJAX_FETCH_FAIL:return e.set("loading",!1);case u.LOCATION_CHANGE:if("POP"!==n.action)return e;var i=n.query.keyword||"";return e.set("keyword",i);default:return e}};t.default=d},453:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.values=t.untouch=t.unregisterField=t.touch=t.SubmissionError=t.submit=t.stopSubmit=t.stopAsyncValidation=t.startSubmit=t.startAsyncValidation=t.setSubmitSucceeded=t.setSubmitFailed=t.reset=t.registerField=t.reduxForm=t.reducer=t.propTypes=t.hasSubmitFailed=t.hasSubmitSucceeded=t.isSubmitting=t.isValid=t.isPristine=t.isInvalid=t.isDirty=t.initialize=t.getFormSubmitErrors=t.getFormAsyncErrors=t.getFormSyncErrors=t.getFormInitialValues=t.getFormValues=t.formValueSelector=t.focus=t.FormSection=t.Form=t.FieldArray=t.Fields=t.Field=t.destroy=t.change=t.blur=t.autofill=t.arrayUnshift=t.arraySwap=t.arraySplice=t.arrayShift=t.arrayRemoveAll=t.arrayRemove=t.arrayPush=t.arrayPop=t.arrayMove=t.arrayInsert=t.actionTypes=void 0;var i=r(448),a=n(i),o=r(64),s=n(o),u=(0,a.default)(s.default),l=u.actionTypes,c=u.arrayInsert,f=u.arrayMove,d=u.arrayPop,p=u.arrayPush,h=u.arrayRemove,y=u.arrayRemoveAll,v=u.arrayShift,m=u.arraySplice,_=u.arraySwap,b=u.arrayUnshift,g=u.autofill,F=u.blur,A=u.change,T=u.destroy,E=u.Field,S=u.Fields,O=u.FieldArray,x=u.Form,I=u.FormSection,M=u.focus,j=u.formValueSelector,w=u.getFormValues,L=u.getFormInitialValues,C=u.getFormSyncErrors,k=u.getFormAsyncErrors,P=u.getFormSubmitErrors,H=u.initialize,X=u.isDirty,J=u.isInvalid,N=u.isPristine,D=u.isValid,R=u.isSubmitting,G=u.hasSubmitSucceeded,q=u.hasSubmitFailed,V=u.propTypes,U=u.reducer,W=u.reduxForm,z=u.registerField,Y=u.reset,B=u.setSubmitFailed,Q=u.setSubmitSucceeded,$=u.startAsyncValidation,K=u.startSubmit,Z=u.stopAsyncValidation,ee=u.stopSubmit,te=u.submit,re=u.SubmissionError,ne=u.touch,ie=u.unregisterField,ae=u.untouch,oe=u.values;t.actionTypes=l,t.arrayInsert=c,t.arrayMove=f,t.arrayPop=d,t.arrayPush=p,t.arrayRemove=h,t.arrayRemoveAll=y,t.arrayShift=v,t.arraySplice=m,t.arraySwap=_,t.arrayUnshift=b,t.autofill=g,t.blur=F,t.change=A,t.destroy=T,t.Field=E,t.Fields=S,t.FieldArray=O,t.Form=x,t.FormSection=I,t.focus=M,t.formValueSelector=j,t.getFormValues=w,t.getFormInitialValues=L,t.getFormSyncErrors=C,t.getFormAsyncErrors=k,t.getFormSubmitErrors=P,t.initialize=H,t.isDirty=X,t.isInvalid=J,t.isPristine=N,t.isValid=D,t.isSubmitting=R,t.hasSubmitSucceeded=G,t.hasSubmitFailed=q,t.propTypes=V,t.reducer=U,t.reduxForm=W,t.registerField=z,t.reset=Y,t.setSubmitFailed=B,t.setSubmitSucceeded=Q,t.startAsyncValidation=$,t.startSubmit=K,t.stopAsyncValidation=Z,t.stopSubmit=ee,t.submit=te,t.SubmissionError=re,t.touch=ne,t.unregisterField=ie,t.untouch=ae,t.values=oe},565:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),a=n(i);r(654);var o=function(e){var t=e.src;return a.default.createElement("div",{className:"ctrd-img",style:{background:"url("+t+") no-repeat center center"}})};o.propTypes={src:i.PropTypes.string.isRequired},t.default=o},566:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),o=n(a),s=r(21),u=r(34),l=function(e){var t=e.input,r=(e.meta,i(e,["input","meta"])),n=t.onChange;return t.value=t.value.toArray(),o.default.createElement(u.Dropdown,Object.assign({},t,r,{onChange:function(e,t){var r=t.value;return n(new s.List(r))},onBlur:function(){}}))};t.default=l},567:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),a=n(i),o=r(34),s=function(e){var t=(e.meta,e.input),r=e.options,n=e.label;return a.default.createElement(o.Form.Field,null,a.default.createElement("label",null,n),a.default.createElement("select",t,r.map(function(e){return a.default.createElement("option",{key:e.key||e.value,value:e.value},e.text)})))};t.default=s},568:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),o=n(a),s=r(34),u=function(e){var t=e.input,r=(e.meta,i(e,["input","meta"]));return o.default.createElement(s.Input,Object.assign({},t,r))};t.default=u},570:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectItem=void 0;var n=r(24),i=r(96);t.selectItem=function(e){return(0,n.createSelector)((0,i.selectList)(),function(t){return t.find(function(t){return t.get("id")===e})})}},571:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listMoreCities=void 0,r(270),r(1023),r(94),r(171);var n=r(120),i=r(121),a=r(172),o=r(573),s=r(43),u=r(574),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,r=e.start,s="";return r&&(s+=", start="+r),t&&(s+=", limit="+t),s=s.substr(2),(0,n.concat)((0,i.of)((0,o.ajaxFetchStart)()),(0,a.ajax)({url:"https://skyscrapers.nurgulyashyrov.com/graphql/",body:{query:(0,u.getQuery)(),variables:JSON.stringify({selector:s})},method:"POST"}).map(function(e){return(0,o.ajaxFetchEnd)(e.response)}).catch(function(e){return(0,i.of)((0,o.ajaxFetchFail)(e))}))};t.listMoreCities=function(e){return e.ofType(s.AJAX_FETCH_END).takeWhile(function(e){var t=e.payload.data.city,r=t.getTotal,n=t.getLimit,i=t.getStart;return r>n+i}).switchMap(function(e){var t=e.payload.data.city,r=t.getLimit,n=t.getStart;return l({start:n+r})})};t.default=l},572:function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var i=r(21),a=r(43),o=t.initialState=new i.List,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1],r=t.type,s=t.payload;switch(r){case a.AJAX_FETCH_END:return e.push.apply(e,n(s.data.city.list.map(function(e){return new i.Map(e)})));default:return e}};t.default=s},573:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initialLoad=t.ajaxFetchFail=t.ajaxFetchEnd=t.ajaxFetchStart=t.changeFilterTxt=void 0;var i=r(97),a=n(i),o=r(43);t.changeFilterTxt=(0,a.default)(o.CHANGE_FILTER_TXT),t.ajaxFetchStart=(0,a.default)(o.AJAX_FETCH_START),t.ajaxFetchEnd=(0,a.default)(o.AJAX_FETCH_END),t.ajaxFetchFail=(0,a.default)(o.AJAX_FETCH_FAIL),t.initialLoad=(0,a.default)(o.INITIAL_LOAD)},574:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="query cities($selector: Selector){\n  city(s: $selector){\n    getTotal\n    getLimit\n    getStart\n    list{\n      id\n      title\n      skyscrapersCount: numChildren\n      map{\n        lat\n        lng\n      }\n    }\n  }\n}";t.getQuery=function(){return r}},576:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),r(1020),r(94);var i=r(120),a=r(121),o=r(453),s=r(62),u=r(125),l=r(189),c=r(580),f=n(c),d=o.actionTypes.CHANGE,p=function(e,t){return e.ofType(d).debounceTime(300).switchMap(function(){var e=t.getState(),r=(0,u.selectLocationPathname)()(e),n=(0,l.selectFilterSelector)()(e),o=(0,u.selectLocationSearch)()(e),c=(0,l.selectFilterUrl)()(e);return""+r+o===c?(0,f.default)(n):(0,i.concat)((0,f.default)(n),(0,a.of)((0,s.push)(c)))})};t.default=p},577:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FilterComponent=void 0;var i=r(1),a=n(i),o=r(41),s=r(24),u=r(264),l=r(34),c=r(124),f=n(c),d=r(568),p=n(d),h=r(567),y=n(h),v=r(566),m=n(v),_=r(189),b=l.Form.Field,g=l.Form.Group,F=t.FilterComponent=function(e){var t=e.heightOptions,r=e.yearOptions,n=e.floorsOptions,i=e.cityOptions;return a.default.createElement(f.default,{raise:"2"},a.default.createElement(l.Form,null,a.default.createElement(g,{widths:"equal"},a.default.createElement(b,null,a.default.createElement(u.Field,{name:"keyword",component:p.default,placeholder:"Keyword"})),a.default.createElement(b,null,a.default.createElement(u.Field,{name:"cities",component:m.default,placeholder:"City",options:i,fluid:!0,multiple:!0,search:!0,selection:!0}))),a.default.createElement(g,{widths:"equal"},a.default.createElement(b,null,a.default.createElement(u.Field,{name:"height",component:y.default,label:"Height",options:t})),a.default.createElement(b,null,a.default.createElement(u.Field,{name:"floors",component:y.default,label:"Floors",options:n})),a.default.createElement(b,null,a.default.createElement(u.Field,{name:"year",component:y.default,label:"Year",options:r})))))},A=(0,s.createStructuredSelector)({heightOptions:(0,_.selectHeightOptions)(),floorsOptions:(0,_.selectFloorsOptions)(),yearOptions:(0,_.selectYearOptions)(),cityOptions:(0,_.selectCityOptions)()});t.default=(0,u.reduxForm)({form:"filter",initialValues:{keyword:"",height:!1,floors:!1,year:!1,cities:[]}})((0,o.connect)(A)(F))},578:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initFilterForm=t.changeFilterForm=void 0;var n=r(21);r(269),r(94);var i=r(468),a=r(62),o=r(453),s=r(125),u=r(189),l=o.actionTypes.INITIALIZE,c=t.changeFilterForm=function(e,t){var r=(0,u.selectSanitizedLocationQuery)()(t.getState()),a=["keyword","cities","height","floors","year"].map(function(e){var t=r.get(e)||"";return"cities"===e&&(t=t?new n.List(t.split("|")):new n.List),(0,o.change)("filter",e,t)});return(0,i.from)(a)},f=(t.initFilterForm=function(e,t){return e.ofType(l).switchMap(function(){return c(e,t)})},function(e,t){return e.filter(function(e){var r=e.type,n=(e.payload,t.getState()),i=(0,s.selectLocationPathname)()(n),o=(0,s.selectLocationSearch)()(n),l=(0,u.selectFilterUrl)()(n);return r===a.LOCATION_CHANGE&&""+i+o!==l&&"/"===i}).switchMap(function(){return c(e,t)})});t.default=f},579:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItemComponent=void 0;var i=r(1),a=n(i),o=r(41),s=r(570),u=r(188),l=r(34),c=r(124),f=n(c),d=r(565),p=n(d),h=r(62),y=l.Label.Detail,v=l.Label.Group,m=t.ItemComponent=function(e){var t=e.skyscraper,r=e.city,n=(e.goToPage,e.thumb),i=t.get("height",""),o=t.get("floors",""),s=t.get("year",""),u=("/?year="+10*Math.floor(s/10),"https://en.wikipedia.org/wiki/index.html?curid="+t.get("wikipedia_id")),d=(r?"/?cities="+r.get("id"):null,r?r.get("title"):null);return a.default.createElement(c.Group,{raise:"2"},a.default.createElement(f.default,{style:{padding:0}},a.default.createElement(p.default,{src:n,alt:t.get("title")})),a.default.createElement(f.default,null,a.default.createElement(l.Header,{as:"h3"},t.get("title"))),a.default.createElement(f.default,null,a.default.createElement(v,null,a.default.createElement(l.Label,null,a.default.createElement(l.Icon,{name:"location arrow"})," ",d),a.default.createElement(l.Label,null,"Year ",a.default.createElement(y,null,s)),a.default.createElement(l.Label,null,"Floors ",a.default.createElement(y,null,o)),a.default.createElement(l.Label,null,"Height ",a.default.createElement(y,null,i," ft.")))),a.default.createElement(f.default,null,a.default.createElement("a",{href:u,target:"_blank"},a.default.createElement(l.Icon,{name:"external"}),"Wikipedia")))},_=function(){return function(e,t){var r=t.skyscraper;return{city:(0,s.selectItem)(r.get("parentID"))(e),thumb:(0,u.selectThumbnailForPage)(r.get("wikipedia_id"))(e)}}},b=function(e){return{goToPage:function(t){return function(r){r.preventDefault(),e((0,h.push)(t))}}}};t.default=(0,o.connect)(_,b)(m)},580:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),r(465),r(269),r(171),r(94);var i=r(120),a=r(121),o=r(172),s=r(187),u=r(35),l=r(313),c=r(584),f=n(c),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,i.concat)((0,a.of)((0,l.ajaxFetchStart)()),(0,o.ajax)({url:"https://skyscrapers.nurgulyashyrov.com/graphql/",
body:{query:f.default,variables:JSON.stringify({selector:e})},method:"POST"}).mergeMap(function(e){return(0,i.concat)((0,a.of)((0,l.ajaxFetchEnd)(e.response)),(0,a.of)((0,s.ajaxGetImages)(u.NAME)))}).catch(function(e){return(0,a.of)((0,l.ajaxFetchFail)(e))}))};t.default=d},581:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ListComponent=void 0;var i=r(1),a=n(i),o=r(41),s=r(24),u=r(34),l=r(126),c=r(127),f=r(579),d=n(f),p=u.Grid.Column,h=t.ListComponent=function(e){var t=e.list,r=e.loading;return a.default.createElement(u.Grid,{columns:3},a.default.createElement(u.Loader,{active:r},"Loading..."),!r&&t.map(function(e){return a.default.createElement(p,{key:e.get("id")},a.default.createElement(d.default,{skyscraper:e}))}))},y=(0,s.createStructuredSelector)({list:(0,l.selectList)(),loading:(0,c.selectLoading)()});t.default=(0,o.connect)(y)(h)},582:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i=r(21),a=r(35),o=n(a),s=(0,i.fromJS)({id:"0",title:"",height:0,floors:0,year:0,parentID:"0",wikipedia_id:0,map:{lat:0,lng:0},architects:{list:[]}}),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1],r=t.type,n=t.payload;switch(r){case o.AJAX_FETCH_END:return e.merge(n);default:return e}};t.default=u},583:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var a=r(21),o=r(582),s=i(o),u=r(35),l=n(u),c=r(313),f=n(c),d=t.initialState=new a.List,p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments[1],r=t.type,n=t.payload;switch(r){case l.AJAX_FETCH_END:return new a.List(n.data.skyscraper.list.map(function(e){return(0,s.default)(void 0,f.ajaxFetchEnd(e))}));default:return e}};t.default=p},584:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="query skyscrapers($selector: Selector){\n  skyscraper(s: $selector){\n    getTotal\n    getLimit\n    getStart\n    list{\n      id\n      title\n      height\n      floors\n      year\n      parentID\n      wikipedia_id\n      map{\n        lat\n        lng\n      }\n      architects{\n       \tlist{\n          title\n          id\n        } \n      }\n    }\n  }\n}";t.getQuery=function(){return r};t.default=r},643:function(e,t,r){t=e.exports=r(644)(),t.push([e.id,'.ctrd-img{width:100%;background-size:cover!important}.ctrd-img:before{content:"";display:block;padding-top:100%}',""])},654:function(e,t,r){var n=r(643);"string"==typeof n&&(n=[[e.id,n,""]]);r(1117)(n,{});n.locals&&(e.exports=n.locals)},1020:function(e,t,r){"use strict";var n=r(13),i=r(1029);n.Observable.prototype.debounceTime=i.debounceTime},1023:function(e,t,r){"use strict";var n=r(13),i=r(1034);n.Observable.prototype.takeWhile=i.takeWhile},1029:function(e,t,r){"use strict";function n(e,t){return void 0===t&&(t=s.async),this.lift(new u(e,t))}function i(e){e.debouncedNext()}var a=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(29),s=r(1038);t.debounceTime=n;var u=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.dueTime,this.scheduler))},e}(),l=function(e){function t(t,r,n){e.call(this,t),this.dueTime=r,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return a(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(i,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(o.Subscriber)},1034:function(e,t,r){"use strict";function n(e){return this.lift(new o(e))}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=r(29);t.takeWhile=n;var o=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate))},e}(),s=function(e){function t(t,r){e.call(this,t),this.predicate=r,this.index=0}return i(t,e),t.prototype._next=function(e){var t,r=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void r.error(e)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var r=this.destination;Boolean(t)?r.next(e):r.complete()},t}(a.Subscriber)},1038:function(e,t,r){"use strict";var n=r(471),i=r(472);t.async=new i.AsyncScheduler(n.AsyncAction)},1041:function(e,t,r){"use strict";function n(e){return!i.isArray(e)&&e-parseFloat(e)+1>=0}var i=r(174);t.isNumeric=n}});
//# sourceMappingURL=1.19d3db2e.chunk.js.map